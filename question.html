<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Input Page</title>
    <!-- CSS -->
    <link rel="stylesheet" href="/css/admin.css">
    <!-- Boxicon -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>

    <div class="Teacher-Page">
        <header>
            <nav>
                <div id="head">
                    <i class='bx bx-menu'></i> <!-- Icon for toggling the sidebar -->
                    <img src="/img/techpathsala-logo.jpeg">
                    <div id="admin-logout-btn"></div>
                    <p id="welcome-admin">Welcome Anshika</p>
                </div>
            </nav>
        </header>

        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <ul>
                <li class="menu-title">Dashboard</li>
                <li><a href="teacher.html"><i class='bx bx-home'></i>Home</a></li>
                <li><a href="Studentinformation.html"><i class='bx bxs-user-circle'></i>User</a></li>
                <li><a href="EditeQuestion.html"><i class='bx bx-question-mark'></i>Quizzes</a></li>
            </ul>
        </div>

        <div id="questioInput-Page">
            <div class="container">
                <h2>Add New Question</h2>

                <!-- Question Input -->
                <label for="question">Question:</label>
                <input type="text" id="question" class="question-input" placeholder="Enter your question">

                <!-- Option Inputs -->
                <label for="option1">Option 1:</label>
                <input type="text" id="option1" class="option-input" placeholder="Enter option 1">
                
                <label for="option2">Option 2:</label>
                <input type="text" id="option2" class="option-input" placeholder="Enter option 2">
                
                <label for="option3">Option 3:</label>
                <input type="text" id="option3" class="option-input" placeholder="Enter option 3">
                
                <label for="option4">Option 4:</label>
                <input type="text" id="option4" class="option-input" placeholder="Enter option 4">
                
                <!-- Correct Answer Input -->
                <label for="answer">Correct Answer:</label>
                <input type="text" id="answer" class="answer-input" placeholder="Enter the correct answer">

                <!-- Add Button -->
                <br>
                <button id="add-btn">Task Done</button>

                <!-- Question List Display -->
                <h3>Saved Questions</h3>
                <ul id="question-list"></ul>
            </div>
        </div>

        <script src="/javascript/main.js"></script>
        <script>
            // Toggle sidebar visibility when menu icon is clicked
            document.querySelector('.bx-menu').addEventListener('click', function () {
                const sidebar = document.getElementById('sidebar');
                sidebar.classList.toggle('active');
            });

           // Retrieve quiz questions from local storage
let quizQuestions = JSON.parse(localStorage.getItem('quizQuestions')) || [];

// Function to display saved questions
function displayQuestions() {
    const questionList = document.getElementById('question-list');
    questionList.innerHTML = ''; // Clear the list before displaying

    if (quizQuestions.length === 0) {
        questionList.innerHTML = "<li>No questions added yet.</li>";
        return;
    }

    quizQuestions.forEach((questionObj, index) => {
        const options = questionObj.option || []; // Ensure options exist
        const option1 = options[0] || 'N/A'; // Default to 'N/A' if missing
        const option2 = options[1] || 'N/A';
        const option3 = options[2] || 'N/A';
        const option4 = options[3] || 'N/A';

        const questionItem = document.createElement('li');
        questionItem.innerHTML = `
            <strong>Question ${index + 1}:</strong> ${questionObj.question}
            <ul>
                <li>Option 1: ${option1}</li>
                <li>Option 2: ${option2}</li>
                <li>Option 3: ${option3}</li>
                <li>Option 4: ${option4}</li>
                <li><strong>Correct Answer:</strong> ${questionObj.correctAnswer}</li>
            </ul>
        `;
        questionList.appendChild(questionItem);
    });
}


document.getElementById('add-btn').addEventListener('click', function (e) {
    e.preventDefault();
    const question = document.getElementById('question').value;
    const option1 = document.getElementById('option1').value;
    const option2 = document.getElementById('option2').value;
    const option3 = document.getElementById('option3').value;
    const option4 = document.getElementById('option4').value;
    const correctAnswer = document.getElementById('answer').value;

    if (!question || !option1 || !option2 || !option3 || !option4 || !correctAnswer) {
        alert('Please fill in all fields.');
        return;
    }

    // Create new question object
    const newQuestion = {
        question: question,
        option: [option1, option2, option3, option4],
        correctAnswer: correctAnswer
    };

    // Add new question to array and update local storage
    quizQuestions.push(newQuestion);
    localStorage.setItem('quizQuestions', JSON.stringify(quizQuestions));

    // Reset input fields
    document.getElementById('question').value = "";
    document.getElementById('option1').value = "";
    document.getElementById('option2').value = "";
    document.getElementById('option3').value = "";
    document.getElementById('option4').value = "";
    document.getElementById('answer').value = "";

    alert('Question added successfully!');

    displayQuestions();
});

// Display saved questions when the page loads
    displayQuestions();

        </script>
</body>

</html>
