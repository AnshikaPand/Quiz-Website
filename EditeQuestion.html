<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Questions</title>
    <link rel="stylesheet" href="/css/admin.css">
    <style>
       
 /* Basic styling */
 body {
    font-family: Arial, sans-serif;
    background-color: #F3BD00;
    color: black;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

/* Container styling */
.question-container {
    width: 80%;
    max-width: 700px;
    background-color: white;
    padding: 20px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* Header styling */
.question-container h1 {
    text-align: center;
    margin-bottom: 10px;
    font-size: 2em;
}

/* Add Question button styling */
.add-question-btn {
    margin: 20px auto 0;
    padding: 10px 20px;
    font-size: 1em;
    border: none;
    border-radius: 4px;
    color: white;
    background-color: #28a745;
    cursor: pointer;
}

.add-question-btn:hover {
    opacity: 0.8;
}

/* Question item styling */
.question-item {
    border-bottom: 1px solid #444;
    margin-bottom: 10px;
    padding: 10px 0;
}

.question {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
}

.question h2 {
    margin: 0;
    font-size: 1.2em;
}

.toggle-icon {
    font-size: 1.5em;
    user-select: none;
}

.answer {
    display: none;
    margin-top: 10px;
    font-size: 1em;
}

/* Toggle answer visibility */
.question-item.active .answer {
    display: block;
}

.question-item.active .toggle-icon {
    transform: rotate(45deg);
}

.options-list {
    list-style-type: none;
    padding: 0;
}

.options-list li {
    padding: 5px;
    cursor: pointer;
}

.options-list li:hover {
    background-color: #f0f0f0;
}

/* Edit and Delete buttons */
.edit-btn, .delete-btn {
    margin: 0 5px;
    cursor: pointer;
    font-size: 1em;
    padding: 5px 10px;
    border: none;
    border-radius: 4px;
    color: white;
}

.edit-btn {
    background-color: #007bff;
}

.delete-btn {
    background-color: #dc3545;
}

.edit-btn:hover, .delete-btn:hover {
    opacity: 0.8;
}
    </style>
</head>
<body>
    <div class="question-container">
        <h1>Edit Questions Here</h1>
        <div id="questions-container"></div>
        <button class="add-question-btn" id="add-question-btn">Add Question</button>
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const questions = JSON.parse(localStorage.getItem('quizQuestions')) || [];
            const container = document.getElementById('questions-container');
            const addButton = document.getElementById('add-question-btn');

            function renderQuestions() {
                container.innerHTML = '';
                questions.forEach((q, index) => {
                    const questionItem = document.createElement('div');
                    questionItem.classList.add('question-item');
                    
                    const questionDiv = document.createElement('div');
                    questionDiv.classList.add('question');
                    
                    const questionTitle = document.createElement('h2');
                    questionTitle.textContent = q.question;
                    
                    const toggleIcon = document.createElement('span');
                    toggleIcon.classList.add('toggle-icon');
                    toggleIcon.textContent = '+';

                    const editBtn = document.createElement('button');
                    editBtn.classList.add('edit-btn');
                    editBtn.textContent = 'Edit';
                    editBtn.addEventListener('click', () => editQuestion(index));

                    const deleteBtn = document.createElement('button');
                    deleteBtn.classList.add('delete-btn');
                    deleteBtn.textContent = 'Delete';
                    deleteBtn.addEventListener('click', () => deleteQuestion(index));

                    questionDiv.appendChild(questionTitle);
                    questionDiv.appendChild(editBtn);
                    questionDiv.appendChild(deleteBtn);
                    questionDiv.appendChild(toggleIcon);
                    
                    const answerDiv = document.createElement('div');
                    answerDiv.classList.add('answer');

                    const optionsList = document.createElement('ul');
                    optionsList.classList.add('options-list');
                    
                    ['a', 'b', 'c', 'd'].forEach(option => {
                        const optionItem = document.createElement('li');
                        optionItem.textContent = `${option.toUpperCase()}: ${q[option]}`;
                        optionItem.dataset.option = option;
                        optionsList.appendChild(optionItem);
                    });

                    answerDiv.appendChild(optionsList);
                    questionItem.appendChild(questionDiv);
                    questionItem.appendChild(answerDiv);
                    container.appendChild(questionItem);
                });

                document.querySelectorAll('.question').forEach(item => {
                    item.addEventListener('click', function() {
                        this.parentNode.classList.toggle('active');
                    });
                });
            }

            function addQuestion() {
                const questionText = prompt('Enter the question:');
                if (questionText) {
                    const options = {};
                    ['a', 'b', 'c', 'd'].forEach(option => {
                        options[option] = prompt(`Enter option ${option.toUpperCase()}:`);
                    });

                    const answer = prompt('Enter the correct option (a, b, c, d):');
                    if (options[answer]) {
                        questions.push({
                            question: questionText,
                            ...options,
                            answer: answer
                        });

                        localStorage.setItem('quizQuestions', JSON.stringify(questions));
                        renderQuestions();
                    } else {
                        alert('Invalid answer option.');
                    }
                }
            }

            function editQuestion(index) {
                const newQuestion = prompt('Enter the new question:', questions[index].question);
                if (newQuestion !== null) {
                    questions[index].question = newQuestion;

                    ['a', 'b', 'c', 'd'].forEach(option => {
                        const newOption = prompt(`Enter new option ${option.toUpperCase()}:`, questions[index][option]);
                        if (newOption !== null) {
                            questions[index][option] = newOption;
                        }
                    });

                    const newAnswer = prompt('Enter the correct option (a, b, c, d):', questions[index].answer);
                    if (['a', 'b', 'c', 'd'].includes(newAnswer)) {
                        questions[index].answer = newAnswer;
                    } else {
                        alert('Invalid answer option.');
                    }

                    localStorage.setItem('quizQuestions', JSON.stringify(questions));
                    renderQuestions();
                }
            }

            function deleteQuestion(index) {
                if (confirm('Are you sure you want to delete this question?')) {
                    questions.splice(index, 1);
                    localStorage.setItem('quizQuestions', JSON.stringify(questions));
                    renderQuestions();
                }
            }

            addButton.addEventListener('click', addQuestion);

            renderQuestions();
        });
    </script>
</body>
</html>
